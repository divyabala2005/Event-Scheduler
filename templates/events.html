{% extends 'base.html' %}
{% block content %}

<h2 class="page-title">Events</h2>

<div class="card dark-card">
  <form method="post" class="row g-3">
    {{ form.hidden_tag() }}

    <div class="col-md-3">
      {{ form.title(class="form-control", placeholder="Event Title (e.g., Team Sync)") }}
    </div>

    <div class="col-md-3">
      {{ form.start_time(class="form-control", type="datetime-local") }}
    </div>

    <div class="col-md-3">
      {{ form.end_time(class="form-control", type="datetime-local") }}
    </div>

    <div class="col-md-3">
      {% if edit_mode %}
      {{ form.submit(class="btn btn-warning w-100", value="Update Event") }}
      {% else %}
      {{ form.submit(class="btn btn-primary w-100", value="Add Event") }}
      {% endif %}
    </div>
  </form>
</div>

<ul class="list-group mt-4">
  {% for e in events %}
  <li class="list-group-item dark-list fade-in d-flex justify-content-between align-items-center">
    <div>
      <strong>{{ e.title }}</strong><br>
      <small class="text-muted fs-6">{{ e.start_time }} - {{ e.end_time }}</small>
    </div>
    <a href="/edit_event/{{ e.id }}" class="btn btn-sm btn-outline-info rounded-pill px-3">Edit</a>
  </li>
  {% endfor %}
</ul>

{% endblock %}